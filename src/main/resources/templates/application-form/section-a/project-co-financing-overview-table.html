<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:clf="http://www.w3.org/1999/xhtml">
<!--/*@thymesVar id="projectCoFinancingOverview" type="io.cloudflight.jems.plugin.contract.models.project.sectionA.tableA3.ProjectCoFinancingOverview"*/-->
<!--/*@thymesVar id="clfUtils" type="io.cloudflight.jems.plugin.standard.common.template.TemplateUtils"*/-->

<head>
    <link rel="stylesheet" type="text/css" media="all" href="../styles/common.css"
          th:href="@{../styles/common.css}"/>
</head>
<body>
<th:block th:fragment="projectCofinancingOverviewTable(projectCoFinancingOverview)">
    <div id="section-a-3" class="landscape" clf:ifAnyFieldIsVisible="PROJECT_A3">
        <div class="title" th:text="#{application.config.project.section.a.3}"></div>
        <table class="default-table">
            <thead class="table-header">
            <tr>
                <th class="text-center right-border" colspan="3"
                    th:text="#{project.application.form.overview.budget.table.programme.funding}">
                    Programme funding
                </th>

                <th class="text-center right-border" colspan="5"
                    th:text="#{project.application.form.overview.budget.table.contribution}">
                    Contribution
                </th>

                <th class="text-center right-border" rowspan="2"
                    th:text="#{project.application.form.overview.budget.table.total}">
                    Total
                </th>
            </tr>
            <tr>
                <th th:text="#{project.application.form.overview.budget.table.funding.source}">Funding
                    source
                </th>
                <th class="text-right" th:text="#{project.application.form.overview.budget.table.funding.amount}">Funding
                    amount
                </th>
                <th class="right-border text-right"
                    th:text="#{project.application.form.overview.budget.table.cofinancing.rate}">
                    Co-financing rate (%)
                </th>

                <th class="text-right" th:text="#{project.application.form.overview.budget.table.auto.public}">
                    Automatic public contribution
                </th>
                <th class="text-right" th:text="#{project.application.form.overview.budget.table.other.public}">
                    Other public contribution
                </th>
                <th class="text-right" th:text="#{project.application.form.overview.budget.table.total.public}">
                    Total public contribution
                </th>
                <th class="text-right" th:text="#{project.application.form.overview.budget.table.private}">
                    Private contribution
                </th>
                <th class="right-border text-right"
                    th:text="#{project.application.form.overview.budget.table.total.contribution}">
                    Total contribution
                </th>
            </tr>
            </thead>
            <tbody class="table-body">
            <th:block th:with="euFundOverviews = ${clfUtils.getEuFundsOverview(projectCoFinancingOverview.fundOverviews)}">
                <tr th:if="${euFundOverviews.size() == 0}">
                    <td class="right-border" colspan="3"></td>
                    <td class="right-border" colspan="5"></td>
                    <td></td>
                </tr>
                <tr th:each="euFundOverview, rowStat: ${euFundOverviews}" th:object="${euFundOverview}">
                    <td clf:textTranslationByDataLanguage="*{fundAbbreviation}"></td>
                    <td clf:number="*{fundingAmount}"></td>
                    <td class="right-border" clf:percentage="*{coFinancingRate}"></td>

                    <td clf:number="*{autoPublicContribution}"></td>
                    <td clf:number="*{otherPublicContribution}"></td>
                    <td clf:number="*{totalPublicContribution}"></td>
                    <td clf:number="*{privateContribution}"></td>
                    <td class="right-border" clf:number="*{totalContribution}"></td>

                    <td clf:number="*{totalFundAndContribution}"></td>
                </tr>
            </th:block>
            <tr class="row-bordered">
                <td th:text="#{project.application.form.overview.budget.table.total.eu}"></td>
                <td clf:number="${projectCoFinancingOverview.totalEuFundingAmount}"></td>
                <td class="right-border" clf:percentage="${projectCoFinancingOverview.averageEuFinancingRate}"></td>

                <td clf:number="${projectCoFinancingOverview.totalEuAutoPublicContribution}"></td>
                <td clf:number="${projectCoFinancingOverview.totalEuOtherPublicContribution}"></td>
                <td clf:number="${projectCoFinancingOverview.totalEuPublicContribution}"></td>
                <td clf:number="${projectCoFinancingOverview.totalEuPrivateContribution}"></td>
                <td class="right-border" clf:number="${projectCoFinancingOverview.totalEuContribution}"></td>

                <td clf:number="${projectCoFinancingOverview.totalEuFundAndContribution}"></td>
            </tr>
            <th:block
                    th:with="otherFundOverviews = ${clfUtils.getOtherFundsOverview(projectCoFinancingOverview.fundOverviews)}">
                <tr th:if="${otherFundOverviews.size() == 0}">
                    <td class="right-border" colspan="3"></td>
                    <td class="right-border" colspan="5"></td>
                    <td></td>
                </tr>
                <tr th:each="otherFundOverview, rowStat: ${otherFundOverviews}" th:object="${otherFundOverview}">
                    <td clf:textTranslationByDataLanguage="*{fundAbbreviation}"></td>
                    <td clf:number="*{fundingAmount}"></td>
                    <td class="right-border" clf:percentage="*{coFinancingRate}"></td>

                    <td clf:number="*{autoPublicContribution}"></td>
                    <td clf:number="*{otherPublicContribution}"></td>
                    <td clf:number="*{totalPublicContribution}"></td>
                    <td clf:number="*{privateContribution}"></td>
                    <td class="right-border" clf:number="*{totalContribution}"></td>

                    <td clf:number="*{totalFundAndContribution}"></td>
                </tr>
            </th:block>
            <tr class="row-bordered">
                <td th:text="#{project.application.form.overview.budget.table.total}"></td>
                <td clf:number="${projectCoFinancingOverview.totalFundingAmount}"></td>
                <td class="right-border" clf:percentage="${projectCoFinancingOverview.averageCoFinancingRate}"></td>

                <td clf:number="${projectCoFinancingOverview.totalAutoPublicContribution}"></td>
                <td clf:number="${projectCoFinancingOverview.totalOtherPublicContribution}"></td>
                <td clf:number="${projectCoFinancingOverview.totalPublicContribution}"></td>
                <td clf:number="${projectCoFinancingOverview.totalPrivateContribution}"></td>
                <td class="right-border" clf:number="${projectCoFinancingOverview.totalContribution}"></td>

                <td clf:number="${projectCoFinancingOverview.totalFundAndContribution}"></td>

            </tr>
            </tbody>
        </table>
    </div>
</th:block>
</body>
</html>
